import{r as a,j as s,u as c,L as l}from"./index-5d20dca2.js";import{e as u,L as d,F as m,f}from"./Layout-00d27bdb.js";import{u as h}from"./useIntersectionObserver-c3839da7.js";import{S as x}from"./SectionHeading-7df4f79a.js";const p=({image:e,title:o,description:t})=>{const r=a.useRef(null);return h(r),s.jsxs("li",{className:"info-list-item hidden",ref:r,children:[s.jsx("img",{src:e,alt:"Info-Item"}),s.jsxs("div",{className:"info-description",children:[s.jsxs("h2",{className:"section-heading",children:[o,":"]}),s.jsx("p",{children:t})]})]})},j=async()=>{try{return await u({endpoint:"about/",method:"GET"})}catch(e){throw e instanceof Error?new Error(e.message):e}},b=()=>c(["infoItems"],j,{retry:!1,staleTime:1e3*60*60*24}),g=()=>{const{data:e,isLoading:o,isError:t,error:r}=b();return o?s.jsx("section",{id:"about",children:s.jsx(l,{})}):t||r?s.jsxs("div",{children:["Error:"," ",r instanceof Error?r.message:"Unknown error"]}):s.jsx("div",{className:"company-info",children:s.jsx("ul",{className:"info-list",children:e==null?void 0:e.map((n,i)=>s.jsx(p,{image:n.image,title:n.title,description:n.description},i))})})},L=()=>s.jsx(d,{children:s.jsxs("section",{id:"about",children:[s.jsx(x,{headingText:"Company Values & History:",buttonLabel:"View our Products",buttonUrl:"/shop",buttonIcon:s.jsx(m,{icon:f,className:"icon"})}),s.jsx(g,{})]})});export{L as About,L as default};
