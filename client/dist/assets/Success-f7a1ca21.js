import{u as i,c as d,r as a,j as n,L as u}from"./index-5d20dca2.js";import{e as h,L as p,F as x,f as g,h as m}from"./Layout-00d27bdb.js";import{S as j}from"./SectionHeading-7df4f79a.js";import{u as f}from"./useCartContext-add1cba6.js";const _=e=>i(["paymentIntent",e],async()=>await h({endpoint:`get-payment-intent/${e}`,method:"GET"}),{enabled:!!e,retry:!1,staleTime:36e5}),E=()=>{const[e]=d(),o=e.get("payment_intent")||"",{clearCart:r}=f(),{data:s,isLoading:t,error:c}=_(o);return a.useEffect(()=>{t&&r()},[t,r]),t?n.jsx("div",{children:n.jsx(u,{})}):c?n.jsxs("div",{children:["Error: ",c.message]}):n.jsx(p,{children:n.jsxs("section",{id:"success",children:[n.jsx(j,{headingText:"Payment Successful",buttonLabel:"Continue Shopping",buttonUrl:"/Shop",buttonIcon:n.jsx(x,{icon:g,className:"icon"})}),n.jsxs("div",{className:"success-message",children:[n.jsx(m,{headingText:"Thank you for your order!"}),n.jsxs("p",{children:["Customer Details:"," ",s==null?void 0:s.payment_intent.shipping.name]}),n.jsxs("p",{children:["Customer Address:"," ",s==null?void 0:s.payment_intent.shipping.address.line1," ",s==null?void 0:s.payment_intent.shipping.address.line2," ",s==null?void 0:s.payment_intent.shipping.address.city," ",s==null?void 0:s.payment_intent.shipping.address.state," ",s==null?void 0:s.payment_intent.shipping.address.postal_code," ",s==null?void 0:s.payment_intent.shipping.address.country]}),n.jsxs("p",{children:["Amount: â‚¬",(s==null?void 0:s.payment_intent.amount.toFixed(2))/100]}),n.jsxs("p",{children:["Email Address:"," ",s==null?void 0:s.payment_intent.receipt_email]}),n.jsxs("p",{children:["Currency:"," ",s==null?void 0:s.payment_intent.currency.toUpperCase()]}),n.jsxs("p",{children:["Payment Status:"," ",(s==null?void 0:s.payment_intent.status.charAt(0).toUpperCase())+(s==null?void 0:s.payment_intent.status.slice(1))]})]})]})})};export{E as Success,E as default};
